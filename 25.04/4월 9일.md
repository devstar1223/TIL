> 2025-04-09
> 

---

# Study

---

# Problem Solving

---

# Project

## WCCG

### 리포지토리 동기화

- 기능 구현 했고, 어느정도 리팩토링도 끝났다.
- 클라이언트에서 `userId` 를 따로 주지 않아도 되게 했다.
    - 어차피 본인의 리포지토리를 “처음” 갱신하는거라 토큰이 필요하다.
    - 게임 전적검색 시스템처럼 남이 다른사람의 리포지토리를 갱신하려는 시도가 있다면 물론 바꿔줘야한다.
    - 중간에 `User` 객체를 `SecurityContextHolder` 에게 받아서 영속성 문제가 생겼다. 그래서 여기서 `id` 를 추출해 다시 DB에서 가져오는 작업이 필요했다.
- 한번에 1000개의 리포지토리까지 가져올수 있게 했다.
    - 깃허브가 애초에 한번의 요청에 100개를 보내도, 1000개까지만 받을수 있게 해준다.
    - 헤더에서 추출하는 방법이 조금 복잡도가 높아보여서 일단 `While` 사용해서 했다.
    - 1000개가 넘어가는건,, 사례가 많지 않기도 하고 나중에 한번 더 생각해보자.

### 리포지토리 조회

- 깃허브 생성일자 기준 정렬 / 깃허브 최신 업데이트 기준 정렬 / 스타수 정렬 을 오름차순/내림차순으로 각각 조회할수 있게 했다.
    - 스프링 DATA JPA 쓰면 `Sort` 로 동적으로 쉽게 정렬할수 있다.
        - 3*2 개의 쿼리 메서드를 만들지 않아도 된다는 뜻이다.
- 우선은 계층간의 DTO 변환을 DTO에게 맡겨놓거나, 그외 다른 부분에서 일단 빠르게 구현만 성공시켰다.
    - 빠른 구현후 리팩토링이 항상 마음이 편했다. 리팩토링은 내일 꼼꼼히 해보자.
    - 이런걸 보면 역시 다음 프로젝트는 TDD를 해봐야겠다.

---

# etc.

---
